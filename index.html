<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestão Pós-Obra</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        .hidden { display: none !important; }
        .loading { opacity: 0.6; pointer-events: none; }
        .success-message { 
            background: #10B981; 
            color: white; 
            padding: 12px; 
            border-radius: 8px; 
            margin-bottom: 16px; 
            display: flex; 
            align-items: center; 
            gap: 8px; 
        }
        .error-message { 
            background: #EF4444; 
            color: white; 
            padding: 12px; 
            border-radius: 8px; 
            margin-bottom: 16px; 
            display: flex; 
            align-items: center; 
            gap: 8px; 
        }
        .timeline-item {
            position: relative;
            padding-left: 40px;
            margin-bottom: 20px;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 24px;
            bottom: -20px;
            width: 2px;
            background: #E5E7EB;
        }
        .timeline-item:last-child::before {
            display: none;
        }
        .timeline-dot {
            position: absolute;
            left: 6px;
            top: 20px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #3B82F6;
        }
        .priority-baixa { color: #10B981; }
        .priority-media { color: #F59E0B; }
        .priority-alta { color: #EF4444; }
        .priority-urgente { color: #7C2D12; background: #FEE2E2; }
        .status-pendente { background: #FEF3C7; color: #92400E; }
        .status-andamento { background: #DBEAFE; color: #1D4ED8; }
        .status-concluida { background: #D1FAE5; color: #065F46; }
        .status-cancelada { background: #FEE2E2; color: #991B1B; }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg">
            <div class="flex items-center gap-3">
                <i class="fas fa-spinner fa-spin text-blue-500"></i>
                <span>Processando...</span>
            </div>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-indigo-600">
        <div class="bg-white p-8 rounded-lg shadow-2xl w-full max-w-md">
            <div class="text-center mb-8">
                <i class="fas fa-building text-4xl text-blue-500 mb-4"></i>
                <h1 class="text-3xl font-bold text-gray-800">Sistema Pós-Obra</h1>
                <p class="text-gray-600 mt-2">Faça login para acessar o sistema</p>
            </div>
            
            <div id="loginMessages"></div>
            
            <form id="loginForm" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                    <input type="email" id="loginEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="seu@email.com" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Senha</label>
                    <input type="password" id="loginPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Sua senha" required>
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 flex items-center justify-center gap-2">
                    <i class="fas fa-sign-in-alt"></i>
                    Entrar
                </button>
            </form>
            
            
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden min-h-screen bg-gray-100">
        <!-- Header -->
        <header class="bg-white shadow-sm border-b">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-4">
                    <div class="flex items-center gap-4">
                        <i class="fas fa-building text-2xl text-blue-600"></i>
                        <h1 class="text-xl font-semibold text-gray-800">Sistema Pós-Obra</h1>
                    </div>
                    <div class="flex items-center gap-4">
                        <span id="userWelcome" class="text-gray-600"></span>
                        <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">
                            <i class="fas fa-sign-out-alt mr-2"></i>Sair
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="bg-white shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex space-x-8">
                    <button onclick="showSection('dashboard')" class="nav-btn py-4 px-2 border-b-2 border-transparent hover:border-blue-500 text-gray-600 hover:text-blue-600">
                        <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
                    </button>
                    <button onclick="showSection('obras')" class="nav-btn py-4 px-2 border-b-2 border-transparent hover:border-blue-500 text-gray-600 hover:text-blue-600">
                        <i class="fas fa-building mr-2"></i>Obras
                    </button>
                    <button id="adminNav" onclick="showSection('admin')" class="nav-btn hidden py-4 px-2 border-b-2 border-transparent hover:border-blue-500 text-gray-600 hover:text-blue-600">
                        <i class="fas fa-users-cog mr-2"></i>Administração
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            
            <!-- Dashboard Section -->
            <section id="dashboardSection" class="hidden">
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">Dashboard</h2>
                    <p class="text-gray-600">Visão geral das suas obras e manutenções</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 bg-blue-100 rounded-lg">
                                <i class="fas fa-building text-blue-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Total de Obras</p>
                                <p id="totalObras" class="text-2xl font-bold text-gray-900">0</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 bg-green-100 rounded-lg">
                                <i class="fas fa-wrench text-green-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Manutenções Ativas</p>
                                <p id="manutençõesAtivas" class="text-2xl font-bold text-gray-900">0</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 bg-yellow-100 rounded-lg">
                                <i class="fas fa-exclamation-triangle text-yellow-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Pendentes</p>
                                <p id="pendentes" class="text-2xl font-bold text-gray-900">0</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 bg-purple-100 rounded-lg">
                                <i class="fas fa-file-alt text-purple-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Documentos</p>
                                <p id="totalDocumentos" class="text-2xl font-bold text-gray-900">0</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Obras Recentes</h3>
                        <div id="obrasRecentes" class="space-y-3">
                            <!-- Obras recentes serão carregadas aqui -->
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Manutenções Próximas</h3>
                        <div id="manutençõesProximas" class="space-y-3">
                            <!-- Manutenções próximas serão carregadas aqui -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Obras Section -->
            <section id="obrasSection" class="hidden">
                <div class="mb-8 flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">Minhas Obras</h2>
                        <p class="text-gray-600">Gerencie suas obras e acompanhe o progresso</p>
                    </div>
                    <button onclick="showModal('novaObraModal')" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
                        <i class="fas fa-plus mr-2"></i>Nova Obra
                    </button>
                </div>
                
                <div class="mb-6">
                    <input type="text" id="searchObras" placeholder="Buscar obras..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                </div>
                
                <div id="obrasGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Obras serão carregadas aqui -->
                </div>
            </section>

            <!-- Obra Detail Section -->
            <section id="obraDetailSection" class="hidden">
                <div class="mb-6 flex items-center">
                    <button onclick="showSection('obras')" class="text-blue-600 hover:text-blue-800 mr-4">
                        <i class="fas fa-arrow-left text-xl"></i>
                    </button>
                    <div>
                        <h2 id="obraDetailTitle" class="text-2xl font-bold text-gray-800"></h2>
                        <p id="obraDetailSubtitle" class="text-gray-600"></p>
                    </div>
                </div>
                
                <!-- Tabs -->
                <div class="border-b border-gray-200 mb-6">
                    <nav class="-mb-px flex space-x-8">
                        <button onclick="showObraTab('info')" class="obra-tab py-2 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                            <i class="fas fa-info-circle mr-2"></i>Informações
                        </button>
                        <button onclick="showObraTab('timeline')" class="obra-tab py-2 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                            <i class="fas fa-clock mr-2"></i>Linha do Tempo
                        </button>
                        <button onclick="showObraTab('documentos')" class="obra-tab py-2 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                            <i class="fas fa-file-alt mr-2"></i>Documentos
                        </button>
                        <button onclick="showObraTab('manutencoes')" class="obra-tab py-2 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300">
                            <i class="fas fa-wrench mr-2"></i>Manutenções
                        </button>
                    </nav>
                </div>
                
                <!-- Tab Contents -->
                <div id="obraTabInfo" class="obra-tab-content hidden">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div id="obraInfoContent" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Informações da obra serão carregadas aqui -->
                        </div>
                    </div>
                </div>
                
                <div id="obraTabTimeline" class="obra-tab-content hidden">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-lg font-semibold">Linha do Tempo da Obra</h3>
                            <button onclick="showModal('novoEventoModal')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                                <i class="fas fa-plus mr-2"></i>Novo Evento
                            </button>
                        </div>
                        <div id="timelineContent" class="space-y-4">
                            <!-- Timeline será carregada aqui -->
                        </div>
                    </div>
                </div>
                
                <div id="obraTabDocumentos" class="obra-tab-content hidden">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-lg font-semibold">Documentos da Obra</h3>
                            <button onclick="showModal('novoDocumentoModal')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                                <i class="fas fa-upload mr-2"></i>Upload Documento
                            </button>
                        </div>
                        <div id="documentosContent" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <!-- Documentos serão carregados aqui -->
                        </div>
                    </div>
                </div>
                
                <div id="obraTabManutencoes" class="obra-tab-content hidden">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-lg font-semibold">Manutenções da Obra</h3>
                            <button onclick="showModal('novaManutencaoModal')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                                <i class="fas fa-plus mr-2"></i>Nova Manutenção
                            </button>
                        </div>
                        
                        <div class="mb-6 flex gap-4">
                            <select id="filtroStatusManutencao" class="px-4 py-2 border border-gray-300 rounded-lg">
                                <option value="">Todos os Status</option>
                                <option value="pendente">Pendente</option>
                                <option value="andamento">Em Andamento</option>
                                <option value="concluida">Concluída</option>
                                <option value="cancelada">Cancelada</option>
                            </select>
                            <select id="filtroPrioridadeManutencao" class="px-4 py-2 border border-gray-300 rounded-lg">
                                <option value="">Todas as Prioridades</option>
                                <option value="baixa">Baixa</option>
                                <option value="media">Média</option>
                                <option value="alta">Alta</option>
                                <option value="urgente">Urgente</option>
                            </select>
                        </div>
                        
                        <div id="manutencoesContent" class="space-y-4">
                            <!-- Manutenções serão carregadas aqui -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Admin Section -->
            <section id="adminSection" class="hidden">
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">Painel Administrativo</h2>
                    <p class="text-gray-600">Gerencie usuários e visualize relatórios do sistema</p>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2">
                        <div class="bg-white p-6 rounded-lg shadow">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-lg font-semibold">Usuários do Sistema</h3>
                                <button onclick="showModal('novoUsuarioModal')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                                    <i class="fas fa-user-plus mr-2"></i>Novo Usuário
                                </button>
                            </div>
                            <div id="usuariosContent" class="space-y-4">
                                <!-- Usuários serão carregados aqui -->
                            </div>
                        </div>
                        
                        <div class="bg-white p-6 rounded-lg shadow mt-6">
                            <h3 class="text-lg font-semibold mb-4">Todas as Obras do Sistema</h3>
                            <div id="todasObrasContent" class="space-y-4">
                                <!-- Todas as obras serão carregadas aqui -->
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="bg-white p-6 rounded-lg shadow mb-6">
                            <h3 class="text-lg font-semibold mb-4">Estatísticas do Sistema</h3>
                            <div class="space-y-4">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Total de Usuários:</span>
                                    <span id="totalUsuarios" class="font-semibold">0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Total de Obras:</span>
                                    <span id="totalObrasAdmin" class="font-semibold">0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Total de Manutenções:</span>
                                    <span id="totalManutençõesAdmin" class="font-semibold">0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Usuários Ativos:</span>
                                    <span id="usuariosAtivos" class="font-semibold">0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    
    <!-- Modal Nova Obra -->
    <div id="novaObraModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg w-full max-w-2xl max-h-96 overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold">Nova Obra</h3>
                <button onclick="hideModal('novaObraModal')" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div id="novaObraMessages"></div>
            
            <form id="novaObraForm" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nome da Obra*</label>
                        <input type="text" id="nomeObra" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Responsável*</label>
                        <select id="responsavelObra" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            <option value="">Selecione um responsável</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Endereço*</label>
                    <input type="text" id="enderecoObra" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Data de Início</label>
                        <input type="date" id="dataInicioObra" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Data de Conclusão</label>
                        <input type="date" id="dataConclusaoObra" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Descrição</label>
                    <textarea id="descricaoObra" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"></textarea>
                </div>
                
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" onclick="hideModal('novaObraModal')" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                        Salvar Obra
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Novo Usuario -->
    <div id="novoUsuarioModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg w-full max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold">Novo Usuário</h3>
                <button onclick="hideModal('novoUsuarioModal')" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div id="novoUsuarioMessages"></div>
            
            <form id="novoUsuarioForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Nome Completo*</label>
                    <input type="text" id="nomeUsuario" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Email*</label>
                    <input type="email" id="emailUsuario" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Senha*</label>
                    <input type="password" id="senhaUsuario" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Telefone</label>
                    <input type="tel" id="telefoneUsuario" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Tipo de Usuário*</label>
                    <select id="tipoUsuario" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        <option value="usuario">Usuário Comum</option>
                        <option value="admin">Administrador</option>
                    </select>
                </div>
                
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" onclick="hideModal('novoUsuarioModal')" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                        Cadastrar Usuário
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Nova Manutencao -->
    <div id="novaManutencaoModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg w-full max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold">Nova Manutenção</h3>
                <button onclick="hideModal('novaManutencaoModal')" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div id="novaManutencaoMessages"></div>
            
            <form id="novaManutencaoForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Título*</label>
                    <input type="text" id="tituloManutencao" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Descrição*</label>
                    <textarea id="descricaoManutencao" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required></textarea>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Data Programada*</label>
                        <input type="date" id="dataManutencao" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Prioridade*</label>
                        <select id="prioridadeManutencao" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            <option value="baixa">Baixa</option>
                            <option value="media">Média</option>
                            <option value="alta">Alta</option>
                            <option value="urgente">Urgente</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                    <select id="statusManutencao" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        <option value="pendente">Pendente</option>
                        <option value="andamento">Em Andamento</option>
                        <option value="concluida">Concluída</option>
                        <option value="cancelada">Cancelada</option>
                    </select>
                </div>
                
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" onclick="hideModal('novaManutencaoModal')" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                        Salvar Manutenção
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Novo Evento -->
    <div id="novoEventoModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg w-full max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold">Novo Evento</h3>
                <button onclick="hideModal('novoEventoModal')" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div id="novoEventoMessages"></div>
            
            <form id="novoEventoForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Título do Evento*</label>
                    <input type="text" id="tituloEvento" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Data*</label>
                    <input type="date" id="dataEvento" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Descrição</label>
                    <textarea id="descricaoEvento" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"></textarea>
                </div>
                
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" onclick="hideModal('novoEventoModal')" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                        Adicionar Evento
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Novo Documento -->
    <div id="novoDocumentoModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg w-full max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold">Upload Documento</h3>
                <button onclick="hideModal('novoDocumentoModal')" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div id="novoDocumentoMessages"></div>
            
            <form id="novoDocumentoForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Nome do Documento*</label>
                    <input type="text" id="nomeDocumento" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Categoria*</label>
                    <select id="categoriaDocumento" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        <option value="">Selecione uma categoria</option>
                        <option value="projeto">Projeto</option>
                        <option value="planta">Planta</option>
                        <option value="manual">Manual de Uso</option>
                        <option value="garantia">Garantia</option>
                        <option value="outros">Outros</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Arquivo*</label>
                    <input type="file" id="arquivoDocumento" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Descrição</label>
                    <textarea id="descricaoDocumento" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"></textarea>
                </div>
                
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" onclick="hideModal('novoDocumentoModal')" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                        Upload Documento
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Editar Manutencao -->
    <div id="editarManutencaoModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg w-full max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-semibold">Editar Manutenção</h3>
                <button onclick="hideModal('editarManutencaoModal')" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div id="editarManutencaoMessages"></div>
            
            <form id="editarManutencaoForm" class="space-y-4">
                <input type="hidden" id="editarManutencaoId">
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Título*</label>
                    <input type="text" id="editarTituloManutencao" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Descrição*</label>
                    <textarea id="editarDescricaoManutencao" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required></textarea>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Data Programada*</label>
                        <input type="date" id="editarDataManutencao" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Prioridade*</label>
                        <select id="editarPrioridadeManutencao" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                            <option value="baixa">Baixa</option>
                            <option value="media">Média</option>
                            <option value="alta">Alta</option>
                            <option value="urgente">Urgente</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                    <select id="editarStatusManutencao" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        <option value="pendente">Pendente</option>
                        <option value="andamento">Em Andamento</option>
                        <option value="concluida">Concluída</option>
                        <option value="cancelada">Cancelada</option>
                    </select>
                </div>
                
                <div class="flex justify-end gap-4 mt-6">
                    <button type="button" onclick="hideModal('editarManutencaoModal')" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                        Salvar Alterações
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // Global variables
        let currentUser = null;
        let currentObra = null;
        let currentSection = 'dashboard';

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            createTestData();
// Criação forçada de usuário fixo
    const fixedUsers = JSON.parse(localStorage.getItem('usuarios') || '[]');
    if (!fixedUsers.find(u => u.email === 'admin@admin.com')) {
        fixedUsers.push({
            id: 'admin-fixed',
            nome: 'Administrador Fixo',
            email: 'admin@admin.com',
            senha: 'admin123',
            telefone: '(00) 00000-0000',
            tipo: 'admin',
            ativo: true,
            dataCadastro: new Date().toISOString()
        });
        localStorage.setItem('usuarios', JSON.stringify(fixedUsers));
    }
            checkUserSession();
            setupEventListeners();
        }

        function createTestData() {
            // Create test users if they don't exist
            const users = JSON.parse(localStorage.getItem('usuarios') || '[]');
            if (users.length === 0) {
                const testUsers = [
                    {
                        id: 'admin-001',
                        nome: 'Administrador',
                        email: 'admin@admin.com',
                        senha: 'admin123',
                        telefone: '(11) 99999-9999',
                        tipo: 'admin',
                        ativo: true,
                        dataCadastro: new Date().toISOString()
                    },
                    {
                        id: 'user-001',
                        nome: 'João Silva',
                        email: 'usuario@teste.com',
                        senha: '123456',
                        telefone: '(11) 98888-8888',
                        tipo: 'usuario',
                        ativo: true,
                        dataCadastro: new Date().toISOString()
                    },
                    {
                        id: 'user-002',
                        nome: 'Maria Santos',
                        email: 'maria@teste.com',
                        senha: '123456',
                        telefone: '(11) 97777-7777',
                        tipo: 'usuario',
                        ativo: true,
                        dataCadastro: new Date().toISOString()
                    }
                ];
                localStorage.setItem('usuarios', JSON.stringify(testUsers));

                // Create test obras
                const testObras = [
                    {
                        id: 'obra-001',
                        nome: 'Casa Residencial - João Silva',
                        responsavel: 'user-001',
                        endereco: 'Rua das Flores, 123 - São Paulo/SP',
                        dataInicio: '2024-01-15',
                        dataConclusao: '2024-06-30',
                        descricao: 'Construção de casa residencial de 120m²',
                        dataCadastro: new Date().toISOString()
                    },
                    {
                        id: 'obra-002',
                        nome: 'Apartamento - Maria Santos',
                        responsavel: 'user-002',
                        endereco: 'Av. Paulista, 456 - São Paulo/SP',
                        dataInicio: '2024-02-01',
                        dataConclusao: '2024-08-15',
                        descricao: 'Reforma completa de apartamento',
                        dataCadastro: new Date().toISOString()
                    }
                ];
                localStorage.setItem('obras', JSON.stringify(testObras));

                // Create test timeline events
                const testEventos = [
                    {
                        id: 'evento-001',
                        obraId: 'obra-001',
                        titulo: 'Início da Obra',
                        data: '2024-01-15',
                        descricao: 'Início oficial dos trabalhos de construção',
                        dataCadastro: new Date().toISOString()
                    },
                    {
                        id: 'evento-002',
                        obraId: 'obra-001',
                        titulo: 'Fundação Concluída',
                        data: '2024-02-15',
                        descricao: 'Finalização das fundações da casa',
                        dataCadastro: new Date().toISOString()
                    }
                ];
                localStorage.setItem('eventos', JSON.stringify(testEventos));

                // Create test manutencoes
                const testManutencoes = [
                    {
                        id: 'man-001',
                        obraId: 'obra-001',
                        titulo: 'Revisão Elétrica',
                        descricao: 'Verificação da instalação elétrica',
                        data: '2024-12-15',
                        prioridade: 'media',
                        status: 'pendente',
                        dataCadastro: new Date().toISOString()
                    },
                    {
                        id: 'man-002',
                        obraId: 'obra-001',
                        titulo: 'Limpeza de Calhas',
                        descricao: 'Limpeza e manutenção das calhas',
                        data: '2025-01-30',
                        prioridade: 'baixa',
                        status: 'pendente',
                        dataCadastro: new Date().toISOString()
                    }
                ];
                localStorage.setItem('manutencoes', JSON.stringify(testManutencoes));
            }
        }

        function setupEventListeners() {
            // Login form
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            
            // Nova obra form
            document.getElementById('novaObraForm').addEventListener('submit', handleNovaObra);
            
            // Novo usuario form
            document.getElementById('novoUsuarioForm').addEventListener('submit', handleNovoUsuario);
            
            // Nova manutencao form
            document.getElementById('novaManutencaoForm').addEventListener('submit', handleNovaManutencao);
            
            // Editar manutencao form
            document.getElementById('editarManutencaoForm').addEventListener('submit', handleEditarManutencao);
            
            // Novo evento form
            document.getElementById('novoEventoForm').addEventListener('submit', handleNovoEvento);
            
            // Novo documento form
            document.getElementById('novoDocumentoForm').addEventListener('submit', handleNovoDocumento);
            
            // Search obras
            document.getElementById('searchObras').addEventListener('input', filterObras);
            
            // Filtros manutencoes
            document.getElementById('filtroStatusManutencao').addEventListener('change', filterManutencoes);
            document.getElementById('filtroPrioridadeManutencao').addEventListener('change', filterManutencoes);
        }

        function checkUserSession() {
            const sessionUser = localStorage.getItem('currentUser');
            if (sessionUser) {
                currentUser = JSON.parse(sessionUser);
                showMainApp();
            } else {
                showLoginScreen();
            }
        }

        function showLoginScreen() {
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('mainApp').classList.add('hidden');
        }

        function showMainApp() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            
            document.getElementById('userWelcome').textContent = `Olá, ${currentUser.nome}`;
            
            if (currentUser.tipo === 'admin') {
                document.getElementById('adminNav').classList.remove('hidden');
            } else {
                document.getElementById('adminNav').classList.add('hidden');
            }
            
            showSection('dashboard');
            loadResponsavelOptions();
        }

        function handleLogin(e) {
            e.preventDefault();
            showLoading();
            
            const email = document.getElementById('loginEmail').value.trim();
            const senha = document.getElementById('loginPassword').value;
            
            const users = JSON.parse(localStorage.getItem('usuarios') || '[]');
            const user = users.find(u => u.email === email && u.senha === senha && u.ativo);
            
            hideLoading();
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                showMainApp();
                showSuccess('loginMessages', 'Login realizado com sucesso!');
                setTimeout(() => document.getElementById('loginMessages').innerHTML = '', 2000);
            } else {
                showError('loginMessages', 'Email ou senha incorretos, ou usuário inativo.');
            }
        }

        function logout() {
            localStorage.removeItem('currentUser');
            currentUser = null;
            currentObra = null;
            showLoginScreen();
        }

        function showSection(section) {
            // Hide all sections
            document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
            
            // Remove active nav styling
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('border-blue-500', 'text-blue-600');
                btn.classList.add('border-transparent', 'text-gray-600');
            });
            
            // Show selected section
            document.getElementById(section + 'Section').classList.remove('hidden');
            
            // Add active nav styling
            const activeBtn = document.querySelector(`[onclick="showSection('${section}')"]`);
            if (activeBtn) {
                activeBtn.classList.remove('border-transparent', 'text-gray-600');
                activeBtn.classList.add('border-blue-500', 'text-blue-600');
            }
            
            currentSection = section;
            
            // Load section data
            switch(section) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'obras':
                    loadObras();
                    break;
                case 'admin':
                    loadAdmin();
                    break;
            }
        }

        function loadDashboard() {
            const obras = getObrasForCurrentUser();
            const manutencoes = getManutençõesForCurrentUser();
            const documentos = getDocumentosForCurrentUser();
            
            document.getElementById('totalObras').textContent = obras.length;
            document.getElementById('manutençõesAtivas').textContent = manutencoes.filter(m => m.status !== 'concluida' && m.status !== 'cancelada').length;
            document.getElementById('pendentes').textContent = manutencoes.filter(m => m.status === 'pendente').length;
            document.getElementById('totalDocumentos').textContent = documentos.length;
            
            // Load recent obras
            const obrasRecentes = obras.slice(0, 5);
            const obrasRecentesHTML = obrasRecentes.map(obra => {
                const user = getUserById(obra.responsavel);
                return `
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                        <div>
                            <p class="font-medium text-sm">${obra.nome}</p>
                            <p class="text-xs text-gray-500">Responsável: ${user ? user.nome : 'N/A'}</p>
                        </div>
                        <button onclick="viewObra('${obra.id}')" class="text-blue-600 hover:text-blue-800 text-sm">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                `;
            }).join('');
            document.getElementById('obrasRecentes').innerHTML = obrasRecentes.length ? obrasRecentesHTML : '<p class="text-gray-500 text-sm">Nenhuma obra encontrada</p>';
            
            // Load próximas manutencoes
            const manutençõesProximas = manutencoes
                .filter(m => m.status === 'pendente')
                .sort((a, b) => new Date(a.data) - new Date(b.data))
                .slice(0, 5);
                
            const manutençõesProximasHTML = manutençõesProximas.map(man => {
                const obra = getObraById(man.obraId);
                return `
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                        <div>
                            <p class="font-medium text-sm">${man.titulo}</p>
                            <p class="text-xs text-gray-500">Obra: ${obra ? obra.nome : 'N/A'}</p>
                            <p class="text-xs text-gray-500">Data: ${formatDate(man.data)}</p>
                        </div>
                        <span class="priority-${man.prioridade} text-xs font-medium px-2 py-1 rounded">
                            ${man.prioridade.charAt(0).toUpperCase() + man.prioridade.slice(1)}
                        </span>
                    </div>
                `;
            }).join('');
            document.getElementById('manutençõesProximas').innerHTML = manutençõesProximas.length ? manutençõesProximasHTML : '<p class="text-gray-500 text-sm">Nenhuma manutenção próxima</p>';
        }

        function loadObras() {
            const obras = getObrasForCurrentUser();
            
            const obrasHTML = obras.map(obra => {
                const user = getUserById(obra.responsavel);
                const manutencoes = getManutencoesByObraId(obra.id);
                const manPendentes = manutencoes.filter(m => m.status === 'pendente').length;
                
                return `
                    <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="text-lg font-semibold text-gray-800 mb-2">${obra.nome}</h3>
                                <p class="text-sm text-gray-600 mb-1">
                                    <i class="fas fa-map-marker-alt mr-2"></i>${obra.endereco}
                                </p>
                                <p class="text-sm text-gray-600">
                                    <i class="fas fa-user mr-2"></i>Responsável: ${user ? user.nome : 'N/A'}
                                </p>
                            </div>
                            <button onclick="viewObra('${obra.id}')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-eye mr-2"></i>Visualizar
                            </button>
                        </div>
                        
                        <div class="border-t pt-4">
                            <div class="grid grid-cols-2 gap-4 text-sm">
                                <div>
                                    <span class="text-gray-500">Início:</span>
                                    <span class="font-medium">${obra.dataInicio ? formatDate(obra.dataInicio) : 'N/A'}</span>
                                </div>
                                <div>
                                    <span class="text-gray-500">Conclusão:</span>
                                    <span class="font-medium">${obra.dataConclusao ? formatDate(obra.dataConclusao) : 'N/A'}</span>
                                </div>
                            </div>
                            
                            ${manPendentes > 0 ? `
                                <div class="mt-3 px-3 py-2 bg-yellow-50 border border-yellow-200 rounded-lg">
                                    <p class="text-sm text-yellow-800">
                                        <i class="fas fa-exclamation-triangle mr-2"></i>
                                        ${manPendentes} manutenção${manPendentes > 1 ? 'ões' : ''} pendente${manPendentes > 1 ? 's' : ''}
                                    </p>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('obrasGrid').innerHTML = obras.length ? obrasHTML : `
                <div class="col-span-full text-center py-12">
                    <i class="fas fa-building text-4xl text-gray-300 mb-4"></i>
                    <p class="text-gray-500">Nenhuma obra encontrada</p>
                    <button onclick="showModal('novaObraModal')" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">
                        <i class="fas fa-plus mr-2"></i>Cadastrar Primeira Obra
                    </button>
                </div>
            `;
        }

        function loadAdmin() {
            if (currentUser.tipo !== 'admin') return;
            
            const users = JSON.parse(localStorage.getItem('usuarios') || '[]');
            const obras = JSON.parse(localStorage.getItem('obras') || '[]');
            const manutencoes = JSON.parse(localStorage.getItem('manutencoes') || '[]');
            
            // Update statistics
            document.getElementById('totalUsuarios').textContent = users.length;
            document.getElementById('totalObrasAdmin').textContent = obras.length;
            document.getElementById('totalManutençõesAdmin').textContent = manutencoes.length;
            document.getElementById('usuariosAtivos').textContent = users.filter(u => u.ativo).length;
            
            // Load users list
            const usuariosHTML = users.map(user => `
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                    <div>
                        <p class="font-medium">${user.nome}</p>
                        <p class="text-sm text-gray-600">${user.email}</p>
                        <p class="text-xs text-gray-500">
                            ${user.tipo === 'admin' ? 'Administrador' : 'Usuário Comum'} - 
                            ${user.ativo ? 'Ativo' : 'Inativo'}
                        </p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="toggleUserStatus('${user.id}')" class="text-sm px-3 py-1 rounded ${user.ativo ? 'bg-red-100 text-red-600 hover:bg-red-200' : 'bg-green-100 text-green-600 hover:bg-green-200'}">
                            ${user.ativo ? 'Desativar' : 'Ativar'}
                        </button>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('usuariosContent').innerHTML = usuariosHTML;
            
            // Load all obras
            const todasObrasHTML = obras.map(obra => {
                const user = getUserById(obra.responsavel);
                const manutencoes = getManutencoesByObraId(obra.id);
                
                return `
                    <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                        <div>
                            <p class="font-medium">${obra.nome}</p>
                            <p class="text-sm text-gray-600">${obra.endereco}</p>
                            <p class="text-xs text-gray-500">
                                Responsável: ${user ? user.nome : 'N/A'} | 
                                Manutenções: ${manutencoes.length}
                            </p>
                        </div>
                        <button onclick="viewObra('${obra.id}')" class="text-blue-600 hover:text-blue-800">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                `;
            }).join('');
            
            document.getElementById('todasObrasContent').innerHTML = todasObrasHTML.length ? todasObrasHTML : '<p class="text-gray-500 text-center py-4">Nenhuma obra encontrada</p>';
        }

        function viewObra(obraId) {
            const obra = getObraById(obraId);
            if (!obra) return;
            
            currentObra = obra;
            
            document.getElementById('obraDetailTitle').textContent = obra.nome;
            document.getElementById('obraDetailSubtitle').textContent = obra.endereco;
            
            showSection('obraDetail');
            document.getElementById('obraDetailSection').classList.remove('hidden');
            showObraTab('info');
        }

        function showObraTab(tab) {
            // Hide all tabs
            document.querySelectorAll('.obra-tab-content').forEach(t => t.classList.add('hidden'));
            document.querySelectorAll('.obra-tab').forEach(t => {
                t.classList.remove('border-blue-500', 'text-blue-600');
                t.classList.add('border-transparent', 'text-gray-500');
            });
            
            // Show selected tab
            document.getElementById('obraTab' + tab.charAt(0).toUpperCase() + tab.slice(1)).classList.remove('hidden');
            
            // Add active tab styling
            const activeTab = document.querySelector(`[onclick="showObraTab('${tab}')"]`);
            if (activeTab) {
                activeTab.classList.remove('border-transparent', 'text-gray-500');
                activeTab.classList.add('border-blue-500', 'text-blue-600');
            }
            
            // Load tab content
            switch(tab) {
                case 'info':
                    loadObraInfo();
                    break;
                case 'timeline':
                    loadObraTimeline();
                    break;
                case 'documentos':
                    loadObraDocumentos();
                    break;
                case 'manutencoes':
                    loadObraManutencoes();
                    break;
            }
        }

        function loadObraInfo() {
            if (!currentObra) return;
            
            const user = getUserById(currentObra.responsavel);
            
            document.getElementById('obraInfoContent').innerHTML = `
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Nome da Obra</label>
                        <p class="mt-1 text-sm text-gray-900">${currentObra.nome}</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Endereço</label>
                        <p class="mt-1 text-sm text-gray-900">${currentObra.endereco}</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Data de Início</label>
                        <p class="mt-1 text-sm text-gray-900">${currentObra.dataInicio ? formatDate(currentObra.dataInicio) : 'Não informado'}</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Data de Conclusão</label>
                        <p class="mt-1 text-sm text-gray-900">${currentObra.dataConclusao ? formatDate(currentObra.dataConclusao) : 'Não informado'}</p>
                    </div>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Responsável</label>
                        <p class="mt-1 text-sm text-gray-900">${user ? user.nome : 'Não informado'}</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Email do Responsável</label>
                        <p class="mt-1 text-sm text-gray-900">${user ? user.email : 'Não informado'}</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Telefone</label>
                        <p class="mt-1 text-sm text-gray-900">${user && user.telefone ? user.telefone : 'Não informado'}</p>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700">Descrição</label>
                        <p class="mt-1 text-sm text-gray-900">${currentObra.descricao || 'Sem descrição'}</p>
                    </div>
                </div>
            `;
        }

        function loadObraTimeline() {
            if (!currentObra) return;
            
            const eventos = getEventosByObraId(currentObra.id);
            
            const timelineHTML = eventos.map(evento => `
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="bg-white p-4 rounded-lg shadow">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="font-medium text-gray-900">${evento.titulo}</h4>
                            <span class="text-sm text-gray-500">${formatDate(evento.data)}</span>
                        </div>
                        ${evento.descricao ? `<p class="text-sm text-gray-600">${evento.descricao}</p>` : ''}
                    </div>
                </div>
            `).join('');
            
            document.getElementById('timelineContent').innerHTML = eventos.length ? timelineHTML : '<p class="text-gray-500 text-center py-8">Nenhum evento na linha do tempo</p>';
        }

        function loadObraDocumentos() {
            if (!currentObra) return;
            
            const documentos = getDocumentosByObraId(currentObra.id);
            
            const documentosHTML = documentos.map(doc => `
                <div class="bg-white p-4 rounded-lg shadow border">
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex items-center">
                            <i class="fas fa-file-alt text-2xl text-blue-600 mr-3"></i>
                            <div>
                                <h4 class="font-medium text-gray-900">${doc.nome}</h4>
                                <p class="text-sm text-gray-500">${doc.categoria}</p>
                            </div>
                        </div>
                        <button onclick="downloadDocumento('${doc.id}')" class="text-blue-600 hover:text-blue-800 text-sm">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                    ${doc.descricao ? `<p class="text-sm text-gray-600 mb-2">${doc.descricao}</p>` : ''}
                    <p class="text-xs text-gray-400">Enviado em ${formatDate(doc.dataCadastro)}</p>
                </div>
            `).join('');
            
            document.getElementById('documentosContent').innerHTML = documentos.length ? documentosHTML : '<div class="col-span-full text-center py-8"><p class="text-gray-500">Nenhum documento encontrado</p></div>';
        }

        function loadObraManutencoes() {
            if (!currentObra) return;
            
            let manutencoes = getManutencoesByObraId(currentObra.id);
            
            // Apply filters
            const statusFilter = document.getElementById('filtroStatusManutencao').value;
            const prioridadeFilter = document.getElementById('filtroPrioridadeManutencao').value;
            
            if (statusFilter) {
                manutencoes = manutencoes.filter(m => m.status === statusFilter);
            }
            
            if (prioridadeFilter) {
                manutencoes = manutencoes.filter(m => m.prioridade === prioridadeFilter);
            }
            
            const manutencoesHTML = manutencoes.map(man => `
                <div class="bg-white p-4 rounded-lg shadow border">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h4 class="font-medium text-gray-900">${man.titulo}</h4>
                            <p class="text-sm text-gray-600 mb-2">${man.descricao}</p>
                            <p class="text-sm text-gray-500">Data programada: ${formatDate(man.data)}</p>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="editManutencao('${man.id}')" class="text-blue-600 hover:text-blue-800 text-sm">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteManutencao('${man.id}')" class="text-red-600 hover:text-red-800 text-sm">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex gap-2">
                        <span class="status-${man.status} text-xs font-medium px-2 py-1 rounded">
                            ${getStatusText(man.status)}
                        </span>
                        <span class="priority-${man.prioridade} text-xs font-medium">
                            ${man.prioridade.charAt(0).toUpperCase() + man.prioridade.slice(1)}
                        </span>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('manutencoesContent').innerHTML = manutencoes.length ? manutencoesHTML : '<p class="text-gray-500 text-center py-8">Nenhuma manutenção encontrada</p>';
        }

        // Form handlers
        function handleNovaObra(e) {
            e.preventDefault();
            showLoading();
            
            const nome = document.getElementById('nomeObra').value.trim();
            const responsavel = document.getElementById('responsavelObra').value;
            const endereco = document.getElementById('enderecoObra').value.trim();
            const dataInicio = document.getElementById('dataInicioObra').value;
            const dataConclusao = document.getElementById('dataConclusaoObra').value;
            const descricao = document.getElementById('descricaoObra').value.trim();
            
            if (!nome || !responsavel || !endereco) {
                hideLoading();
                showError('novaObraMessages', 'Preencha todos os campos obrigatórios.');
                return;
            }
            
            const obras = JSON.parse(localStorage.getItem('obras') || '[]');
            const novaObra = {
                id: 'obra-' + Date.now(),
                nome,
                responsavel,
                endereco,
                dataInicio,
                dataConclusao,
                descricao,
                dataCadastro: new Date().toISOString()
            };
            
            obras.push(novaObra);
            localStorage.setItem('obras', JSON.stringify(obras));
            
            hideLoading();
            showSuccess('novaObraMessages', 'Obra cadastrada com sucesso!');
            
            setTimeout(() => {
                hideModal('novaObraModal');
                document.getElementById('novaObraForm').reset();
                document.getElementById('novaObraMessages').innerHTML = '';
                loadObras();
            }, 1500);
        }

        function handleNovoUsuario(e) {
            e.preventDefault();
            showLoading();
            
            const nome = document.getElementById('nomeUsuario').value.trim();
            const email = document.getElementById('emailUsuario').value.trim();
            const senha = document.getElementById('senhaUsuario').value;
            const telefone = document.getElementById('telefoneUsuario').value.trim();
            const tipo = document.getElementById('tipoUsuario').value;
            
            if (!nome || !email || !senha || !tipo) {
                hideLoading();
                showError('novoUsuarioMessages', 'Preencha todos os campos obrigatórios.');
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('usuarios') || '[]');
            
            // Check if email already exists
            if (users.find(u => u.email === email)) {
                hideLoading();
                showError('novoUsuarioMessages', 'Este email já está cadastrado.');
                return;
            }
            
            const novoUsuario = {
                id: 'user-' + Date.now(),
                nome,
                email,
                senha,
                telefone,
                tipo,
                ativo: true,
                dataCadastro: new Date().toISOString()
            };
            
            users.push(novoUsuario);
            localStorage.setItem('usuarios', JSON.stringify(users));
            
            hideLoading();
            showSuccess('novoUsuarioMessages', 'Usuário cadastrado com sucesso!');
            
            setTimeout(() => {
                hideModal('novoUsuarioModal');
                document.getElementById('novoUsuarioForm').reset();
                document.getElementById('novoUsuarioMessages').innerHTML = '';
                loadAdmin();
                loadResponsavelOptions();
            }, 1500);
        }

        function handleNovaManutencao(e) {
            e.preventDefault();
            showLoading();
            
            const titulo = document.getElementById('tituloManutencao').value.trim();
            const descricao = document.getElementById('descricaoManutencao').value.trim();
            const data = document.getElementById('dataManutencao').value;
            const prioridade = document.getElementById('prioridadeManutencao').value;
            const status = document.getElementById('statusManutencao').value;
            
            if (!titulo || !descricao || !data || !prioridade) {
                hideLoading();
                showError('novaManutencaoMessages', 'Preencha todos os campos obrigatórios.');
                return;
            }
            
            if (!currentObra) {
                hideLoading();
                showError('novaManutencaoMessages', 'Erro: obra não selecionada.');
                return;
            }
            
            const manutencoes = JSON.parse(localStorage.getItem('manutencoes') || '[]');
            const novaManutencao = {
                id: 'man-' + Date.now(),
                obraId: currentObra.id,
                titulo,
                descricao,
                data,
                prioridade,
                status,
                dataCadastro: new Date().toISOString()
            };
            
            manutencoes.push(novaManutencao);
            localStorage.setItem('manutencoes', JSON.stringify(manutencoes));
            
            hideLoading();
            showSuccess('novaManutencaoMessages', 'Manutenção cadastrada com sucesso!');
            
            setTimeout(() => {
                hideModal('novaManutencaoModal');
                document.getElementById('novaManutencaoForm').reset();
                document.getElementById('novaManutencaoMessages').innerHTML = '';
                loadObraManutencoes();
            }, 1500);
        }

        function handleEditarManutencao(e) {
            e.preventDefault();
            showLoading();
            
            const id = document.getElementById('editarManutencaoId').value;
            const titulo = document.getElementById('editarTituloManutencao').value.trim();
            const descricao = document.getElementById('editarDescricaoManutencao').value.trim();
            const data = document.getElementById('editarDataManutencao').value;
            const prioridade = document.getElementById('editarPrioridadeManutencao').value;
            const status = document.getElementById('editarStatusManutencao').value;
            
            if (!titulo || !descricao || !data || !prioridade) {
                hideLoading();
                showError('editarManutencaoMessages', 'Preencha todos os campos obrigatórios.');
                return;
            }
            
            const manutencoes = JSON.parse(localStorage.getItem('manutencoes') || '[]');
            const index = manutencoes.findIndex(m => m.id === id);
            
            if (index !== -1) {
                manutencoes[index] = {
                    ...manutencoes[index],
                    titulo,
                    descricao,
                    data,
                    prioridade,
                    status,
                    dataAtualizacao: new Date().toISOString()
                };
                
                localStorage.setItem('manutencoes', JSON.stringify(manutencoes));
                
                hideLoading();
                showSuccess('editarManutencaoMessages', 'Manutenção atualizada com sucesso!');
                
                setTimeout(() => {
                    hideModal('editarManutencaoModal');
                    document.getElementById('editarManutencaoForm').reset();
                    document.getElementById('editarManutencaoMessages').innerHTML = '';
                    loadObraManutencoes();
                }, 1500);
            } else {
                hideLoading();
                showError('editarManutencaoMessages', 'Manutenção não encontrada.');
            }
        }

        function handleNovoEvento(e) {
            e.preventDefault();
            showLoading();
            
            const titulo = document.getElementById('tituloEvento').value.trim();
            const data = document.getElementById('dataEvento').value;
            const descricao = document.getElementById('descricaoEvento').value.trim();
            
            if (!titulo || !data) {
                hideLoading();
                showError('novoEventoMessages', 'Preencha todos os campos obrigatórios.');
                return;
            }
            
            if (!currentObra) {
                hideLoading();
                showError('novoEventoMessages', 'Erro: obra não selecionada.');
                return;
            }
            
            const eventos = JSON.parse(localStorage.getItem('eventos') || '[]');
            const novoEvento = {
                id: 'evento-' + Date.now(),
                obraId: currentObra.id,
                titulo,
                data,
                descricao,
                dataCadastro: new Date().toISOString()
            };
            
            eventos.push(novoEvento);
            localStorage.setItem('eventos', JSON.stringify(eventos));
            
            hideLoading();
            showSuccess('novoEventoMessages', 'Evento adicionado com sucesso!');
            
            setTimeout(() => {
                hideModal('novoEventoModal');
                document.getElementById('novoEventoForm').reset();
                document.getElementById('novoEventoMessages').innerHTML = '';
                loadObraTimeline();
            }, 1500);
        }

        function handleNovoDocumento(e) {
    e.preventDefault();
    showLoading();

    const nome = document.getElementById('nomeDocumento').value.trim();
    const categoria = document.getElementById('categoriaDocumento').value;
    const arquivoInput = document.getElementById('arquivoDocumento');
    const descricao = document.getElementById('descricaoDocumento').value.trim();

    if (!nome || !categoria || !arquivoInput.files.length) {
        hideLoading();
        showError('novoDocumentoMessages', 'Preencha todos os campos obrigatórios.');
        return;
    }

    const arquivo = arquivoInput.files[0];
    const reader = new FileReader();

    reader.onload = function(event) {
        const base64 = event.target.result;

        const documentos = JSON.parse(localStorage.getItem('documentos') || '[]');
        const novoDocumento = {
            id: 'doc-' + Date.now(),
            obraId: currentObra.id,
            nome,
            categoria,
            descricao,
            nomeArquivo: arquivo.name,
            arquivoBase64: base64,
            dataCadastro: new Date().toISOString()
        };

        documentos.push(novoDocumento);
        localStorage.setItem('documentos', JSON.stringify(documentos));

        hideLoading();
        showSuccess('novoDocumentoMessages', 'Documento enviado com sucesso!');

        setTimeout(() => {
            hideModal('novoDocumentoModal');
            document.getElementById('novoDocumentoForm').reset();
            document.getElementById('novoDocumentoMessages').innerHTML = '';
            loadObraDocumentos();
        }, 1500);
    };

    reader.readAsDataURL(arquivo);
}, 1500);
        }

        // Utility functions
        function getObrasForCurrentUser() {
            const obras = JSON.parse(localStorage.getItem('obras') || '[]');
            if (currentUser.tipo === 'admin') {
                return obras;
            }
            return obras.filter(obra => obra.responsavel === currentUser.id);
        }

        function getManutençõesForCurrentUser() {
            const manutencoes = JSON.parse(localStorage.getItem('manutencoes') || '[]');
            if (currentUser.tipo === 'admin') {
                return manutencoes;
            }
            const userObras = getObrasForCurrentUser();
            const userObraIds = userObras.map(obra => obra.id);
            return manutencoes.filter(man => userObraIds.includes(man.obraId));
        }

        function getDocumentosForCurrentUser() {
            const documentos = JSON.parse(localStorage.getItem('documentos') || '[]');
            if (currentUser.tipo === 'admin') {
                return documentos;
            }
            const userObras = getObrasForCurrentUser();
            const userObraIds = userObras.map(obra => obra.id);
            return documentos.filter(doc => userObraIds.includes(doc.obraId));
        }

        function getObraById(id) {
            const obras = JSON.parse(localStorage.getItem('obras') || '[]');
            return obras.find(obra => obra.id === id);
        }

        function getUserById(id) {
            const users = JSON.parse(localStorage.getItem('usuarios') || '[]');
            return users.find(user => user.id === id);
        }

        function getEventosByObraId(obraId) {
            const eventos = JSON.parse(localStorage.getItem('eventos') || '[]');
            return eventos.filter(evento => evento.obraId === obraId).sort((a, b) => new Date(a.data) - new Date(b.data));
        }

        function getDocumentosByObraId(obraId) {
            const documentos = JSON.parse(localStorage.getItem('documentos') || '[]');
            return documentos.filter(doc => doc.obraId === obraId);
        }

        function getManutencoesByObraId(obraId) {
            const manutencoes = JSON.parse(localStorage.getItem('manutencoes') || '[]');
            return manutencoes.filter(man => man.obraId === obraId);
        }

        function loadResponsavelOptions() {
            const users = JSON.parse(localStorage.getItem('usuarios') || '[]');
            const activeUsers = users.filter(u => u.ativo);
            
            const options = activeUsers.map(user => 
                `<option value="${user.id}">${user.nome} (${user.email})</option>`
            ).join('');
            
            document.getElementById('responsavelObra').innerHTML = '<option value="">Selecione um responsável</option>' + options;
        }

        function editManutencao(id) {
            const manutencoes = JSON.parse(localStorage.getItem('manutencoes') || '[]');
            const manutencao = manutencoes.find(m => m.id === id);
            
            if (manutencao) {
                document.getElementById('editarManutencaoId').value = manutencao.id;
                document.getElementById('editarTituloManutencao').value = manutencao.titulo;
                document.getElementById('editarDescricaoManutencao').value = manutencao.descricao;
                document.getElementById('editarDataManutencao').value = manutencao.data;
                document.getElementById('editarPrioridadeManutencao').value = manutencao.prioridade;
                document.getElementById('editarStatusManutencao').value = manutencao.status;
                
                showModal('editarManutencaoModal');
            }
        }

        function deleteManutencao(id) {
            if (confirm('Tem certeza que deseja excluir esta manutenção?')) {
                const manutencoes = JSON.parse(localStorage.getItem('manutencoes') || '[]');
                const updatedManutencoes = manutencoes.filter(m => m.id !== id);
                localStorage.setItem('manutencoes', JSON.stringify(updatedManutencoes));
                loadObraManutencoes();
            }
        }

        function downloadDocumento(id) {
            // For demo purposes, we'll just show an alert
            const documentos = JSON.parse(localStorage.getItem('documentos') || '[]');
            const documento = documentos.find(d => d.id === id);
            
            if (documento) {
                alert(`Download do documento: ${documento.nome}\nCategoria: ${documento.categoria}`);
            }
        }

        function filterObras() {
            const searchTerm = document.getElementById('searchObras').value.toLowerCase();
            const obraCards = document.querySelectorAll('#obrasGrid > div');
            
            obraCards.forEach(card => {
                const text = card.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    card.style.display = '';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function filterManutencoes() {
            loadObraManutencoes();
        }

        function toggleUserStatus(userId) {
            const users = JSON.parse(localStorage.getItem('usuarios') || '[]');
            const userIndex = users.findIndex(u => u.id === userId);
            
            if (userIndex !== -1) {
                users[userIndex].ativo = !users[userIndex].ativo;
                localStorage.setItem('usuarios', JSON.stringify(users));
                loadAdmin();
            }
        }

        // Modal functions
        function showModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // UI utility functions
        function showLoading() {
            document.getElementById('loadingOverlay').classList.remove('hidden');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.add('hidden');
        }

        function showSuccess(containerId, message) {
            document.getElementById(containerId).innerHTML = `
                <div class="success-message">
                    <i class="fas fa-check-circle"></i>
                    ${message}
                </div>
            `;
        }

        function showError(containerId, message) {
            document.getElementById(containerId).innerHTML = `
                <div class="error-message">
                    <i class="fas fa-exclamation-circle"></i>
                    ${message}
                </div>
            `;
        }

        function formatDate(dateString) {
            if (!dateString) return 'N/A';
            const date = new Date(dateString);
            return date.toLocaleDateString('pt-BR');
        }

        function getStatusText(status) {
            const statusMap = {
                'pendente': 'Pendente',
                'andamento': 'Em Andamento',
                'concluida': 'Concluída',
                'cancelada': 'Cancelada'
            };
            return statusMap[status] || status;
        }

        // Close modals when clicking outside
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('fixed') && e.target.classList.contains('inset-0')) {
                const modals = ['novaObraModal', 'novoUsuarioModal', 'novaManutencaoModal', 'editarManutencaoModal', 'novoEventoModal', 'novoDocumentoModal'];
                modals.forEach(modalId => {
                    if (!document.getElementById(modalId).classList.contains('hidden')) {
                        hideModal(modalId);
                    }
                });
            }
        });
    </script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"963543568e868125","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.7.0","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDoUHinQr%2Bnj6kze5ZRtcp1V89hqFdTJseCJ6zM4FfgTCZBTiLes4BfWnZXQt%2BsmW30Fi0m%2F61k8R5jzfKkEdnSkbMFPMN3kr4gxN0x9m%2B5fGRfndUCp1xdmhF%2BF4usbMJwApLtIgBKMPJ%2B4W9jRTH77xgAiZZaEKV5BsB4zds1C96jeWMACHQdEhlnhp9mS%2BXkOJLNbYuGyPahgKGprj1RDHFYmdGKatEkFx8cyafRPXdbs2fQuo1pZfJDv%2BSjbcde7ou8XALIMlOm4gcHa%2BuA2q%2FrkfiaIJckkXMM91MD2EE1YXr2j%2FdgAAideAlICCWQJmmThjBTQ0RIwU11AHj3D8z5GnXSOfwqO76NILLQq8JapH0SNHCGpTDjQctERkXTebrQK%2BcR%2BuFW9iiooOIZ1c53zKA7w64r0pgR%2BOG4oylyYHo3B10KeyceMf%2FkxKLdPZ93urP6RZOBNeQjpZiF%2BYBZZ6kahqUDUi6NeFg7r6ezIgN2vOOrIfCrNc89JKgouHRUfBBFbXd%2BxJhN2yfoU%3D";
        window.__genspark_locale = "pt-BR";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDoUHinQr+nj6kze5ZRtcp1V89hqFdTJseCJ6zM4FfgTCZBTiLes4BfWnZXQt+smW30Fi0m/61k8R5jzfKkEdnSkbMFPMN3kr4gxN0x9m+5fGRfndUCp1xdmhF+F4usbMJwApLtIgBKMPJ+4W9jRTH77xgAiZZaEKV5BsB4zds1C96jeWMACHQdEhlnhp9mS+XkOJLNbYuGyPahgKGprj1RDHFYmdGKatEkFx8cyafRPXdbs2fQuo1pZfJDv+Sjbcde7ou8XALIMlOm4gcHa+uA2q/rkfiaIJckkXMM91MD2EE1YXr2j/dgAAideAlICCWQJmmThjBTQ0RIwU11AHj3D8z5GnXSOfwqO76NILLQq8JapH0SNHCGpTDjQctERkXTebrQK+cR+uFW9iiooOIZ1c53zKA7w64r0pgR+OG4oylyYHo3B10KeyceMf/kxKLdPZ93urP6RZOBNeQjpZiF+YBZZ6kahqUDUi6NeFg7r6ezIgN2vOOrIfCrNc89JKgouHRUfBBFbXd+xJhN2yfoU=";
    </script>
    
        <script id="html_badge_script2" src="https://www.genspark.ai/html_badge.js"></script>
        
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    